<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>LogiConnect – Plateforme d’échange logistique</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: Arial, Helvetica, sans-serif; background:#0f2027; color:#fff; }
    header { padding:60px 10%; background:#203a43; text-align:center; }
    h1 { font-size:2.5rem; margin-bottom:10px; }
    section { padding:50px 10%; border-top:1px solid rgba(255,255,255,0.1); }
    .container { display:grid; grid-template-columns:1fr 1fr; gap:30px; }
    .box { background:rgba(255,255,255,0.05); padding:20px; border-radius:12px; }
    input, textarea, select, button { width:100%; margin-top:10px; padding:10px; border-radius:8px; border:none; }
    button { background:#4facfe; color:#000; cursor:pointer; }
    .messages { max-height:400px; overflow-y:auto; }
    .message { background:rgba(0,0,0,0.4); padding:15px; border-radius:10px; margin-bottom:15px; }
    .reply { margin-top:10px; padding-left:10px; border-left:2px solid #4facfe; font-size:0.9rem; }
    footer { padding:30px; text-align:center; background:#000; opacity:0.7; }
    @media(max-width:900px){ .container{grid-template-columns:1fr;} }
  </style>
</head>
<body>

<header>
  <h1>LogiConnect</h1>
  <p>Plateforme de questions et problèmes par métier logistique</p>
</header>

<section>
  <div class="container">

    <div class="box">
      <h3>Publier un message</h3>
      <input id="name" placeholder="Nom" />
      <select id="role">
        <option value="Logisticien">Logisticien</option>
        <option value="Organisateur">Organisateur logistique</option>
        <option value="Chauffeur">Chauffeur poids lourd</option>
        <option value="Mecanicien">Mécanicien</option>
        <option value="Etudiant">Étudiant</option>
      </select>
      <textarea id="content" rows="4" placeholder="Question ou problème..."></textarea>
      <input id="image" type="file" accept="image/*" />
      <button onclick="addMessage()">Envoyer</button>
    </div>

    <div class="box">
      <h3>Messages</h3>
      <select id="view" onchange="renderMessages()">
        <option value="ALL">Tous (admin)</option>
        <option value="Logisticien">Logisticiens</option>
        <option value="Organisateur">Organisateurs</option>
        <option value="Chauffeur">Chauffeurs</option>
        <option value="Mecanicien">Mécaniciens</option>
        <option value="Etudiant">Étudiants</option>
      </select>
      <div class="messages" id="messages"></div>
    </div>

  </div>
</section>

<section>
  <h3>Bug ou réclamation</h3>
  <a href="mailto:saoadept41@gmail.com?subject=Bug ou réclamation - LogiConnect" style="color:#4facfe">Contacter l’administrateur</a>
</section>

<footer>© LogiConnect</footer>

<script>
  let messagesData = [];

  function addMessage() {
    const name = document.getElementById('name').value.trim();
    const role = document.getElementById('role').value;
    const content = document.getElementById('content').value.trim();
    const imageInput = document.getElementById('image');

    if (!name || !content) {
      alert('Nom et message obligatoires');
      return;
    }

    const msg = { name, role, content, image: null };

    if (imageInput.files.length > 0) {
      msg.image = URL.createObjectURL(imageInput.files[0]);
    }

    messagesData.unshift(msg);
    renderMessages();

    document.getElementById('name').value = '';
    document.getElementById('content').value = '';
    imageInput.value = '';
  }

  function renderMessages() {
    const container = document.getElementById('messages');
    const view = document.getElementById('view').value;
    container.innerHTML = '';

    messagesData.forEach(msg => {
      if (view !== 'ALL' && msg.role !== view) return;

      const div = document.createElement('div');
      div.className = 'message';

      div.innerHTML = '<strong>' + msg.name + '</strong> (' + msg.role + ')<p>' + msg.content + '</p>';

      if (msg.image) {
        const img = document.createElement('img');
        img.src = msg.image;
        img.style.maxWidth = '100%';
        img.style.marginTop = '10px';
        div.appendChild(img);
      }

      const reply = document.createElement('div');
      reply.className = 'reply';
      reply.textContent = 'Zone de réponse (admin / professionnels)';
      div.appendChild(reply);

      container.appendChild(div);
    });
  }
</script>

</body>
</html>
