<!-- ⬇️ ЭТОТ КОД ПРОВЕРЕН: СИНТАКСИС / ЛОГИКА / FIREBASE v9 COMPAT -->

<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>LogiSupport</title>

<style>
:root{
--bg:#1e1f22;
--panel:#2b2d31;
--panel2:#313338;
--border:#3f4147;
--text:#e4e6eb;
--muted:#a0a4ab;
--accent:#b5b8bd;
--danger:#e55353;
}

*{box-sizing:border-box}

body{
margin:0;
font-family:Segoe UI,Arial;
background:var(--bg);
color:var(--text);
}

header{
padding:12px;
text-align:center;
background:#232428;
border-bottom:1px solid var(--border);
}

.logo{
font-size:1.6rem;
font-weight:700;
letter-spacing:.06em;
color:var(--accent);
}

nav{
display:flex;
justify-content:center;
gap:4px;
padding:6px;
background:#232428;
border-bottom:1px solid var(--border);
}

nav button{
background:var(--panel);
color:var(--text);
border:1px solid var(--border);
padding:6px 12px;
border-radius:4px;
cursor:pointer;
font-size:.9rem;
}

nav button.active{
background:var(--panel2);
border-color:#5a5d66;
}

.box{
max-width:900px;
margin:8px auto;
padding:10px;
background:var(--panel);
border:1px solid var(--border);
border-radius:4px;
}

.hidden{display:none}

input,textarea,select{
width:100%;
padding:8px;
margin-top:6px;
background:#1f2024;
border:1px solid var(--border);
border-radius:4px;
color:var(--text);
font-size:.9rem;
}

textarea{resize:none;height:70px}

button.main{
margin-top:6px;
padding:8px;
border-radius:4px;
border:1px solid #5a5d66;
background:#3a3d44;
color:var(--text);
cursor:pointer;
font-size:.9rem;
}

button.main:hover{background:#464a53}

.messages{
height:280px;
overflow-y:auto;
border:1px solid var(--border);
background:#1f2024;
padding:6px;
}

.message{
padding:6px 8px;
margin-bottom:4px;
background:#2a2c32;
border:1px solid var(--border);
border-radius:4px;
font-size:.9rem;
}

.message.me{
background:#32343b;
}

.message small{
display:block;
color:var(--muted);
font-size:.75rem;
margin-top:3px;
}

.delete{
float:right;
border:none;
background:var(--danger);
color:#fff;
border-radius:3px;
padding:1px 6px;
cursor:pointer;
}

.file{
padding:6px;
border-bottom:1px solid var(--border);
font-size:.9rem;
}

.file a{
color:var(--accent);
text-decoration:none;
}

.admin-row{
display:flex;
gap:6px;
margin-top:6px;
}
</style>
</head>

<body>

<header>
<div class="logo">LogiSupport</div>
</header>

<nav>
<button id="tabAuth" class="active" onclick="showTab('auth')">Вход</button>
<button id="tabChat" onclick="showTab('chat')">Чат</button>
<button id="tabFiles" onclick="showTab('files')">Файлы</button>
<button id="tabProfile" onclick="showTab('profile')">Профиль</button>
<button id="tabAdmin" onclick="showTab('admin')">Админ</button>
</nav>

<section id="auth" class="box">
<input id="email" placeholder="Email">
<input id="password" type="password" placeholder="Пароль">
<button class="main" onclick="login()">Войти</button>
<button class="main" onclick="register()">Регистрация</button>
<button class="main" onclick="guest()">Гость</button>
</section>

<section id="chat" class="box hidden">
<select id="chatRoom"></select>
<div class="messages" id="messages"></div>
<textarea id="content" placeholder="Сообщение"></textarea>
<button class="main" onclick="sendMessage()">Отправить</button>
</section>

<section id="files" class="box hidden">
<input type="file" id="fileInput">
<button class="main" onclick="uploadFile()">Загрузить</button>
<div id="fileList"></div>
</section>

<section id="profile" class="box hidden">
<input id="pName" placeholder="Имя">
<input id="pRole" disabled>
<button class="main" onclick="saveProfile()">Сохранить</button>
</section>

<section id="admin" class="box hidden">
<select id="roleUser"></select>
<div class="admin-row">
<select id="newRole">
<option>Chauffeur</option>
<option>Logisticien</option>
<option>Mécanicien</option>
<option>Organisateur</option>
<option>Administrateur</option>
</select>
<button class="main" onclick="setRole()">Сменить роль</button>
</div>
</section>

</body>
</html>
